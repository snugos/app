/* js/style.css - SnugOS Stylesheet */

:root {
    /* Black & White Theme (Dark Mode Default) */
    --bg-primary: #000000;
    --bg-window: #000000;
    --bg-window-content: #000000;
    --bg-title-bar: #000000;
    --bg-taskbar: #000000;
    --bg-start-menu: #000000;
    --bg-button: #000000;
    --bg-button-hover: #FFFFFF;
    --bg-button-active: #FFFFFF;
    --bg-input: #000000;
    --bg-dropzone: #000000;
    --bg-dropzone-dragover: #FFFFFF;
    --bg-sequencer-header: #000000;
    --bg-sequencer-label: #000000;
    --bg-sequencer-step-even: #000000;
    --bg-sequencer-step-odd: #000000;
    --bg-sequencer-step-hover: #FFFFFF;
    --bg-meter-track: #000000;
    --bg-meter-bar-container: #000000;
    --bg-modal-overlay: rgba(0,0,0,0.75);
    --bg-modal-dialog: #000000;
    --bg-context-menu: #000000;
    --bg-timeline-container: #000000;
    --bg-timeline-header: #000000;
    --bg-timeline-track-lane: #000000;
    --bg-timeline-track-lane-even: #000000;
    --bg-timeline-track-name: #000000;
    --bg-theme-toggle-button-hover: #FFFFFF;

    --text-primary: #FFFFFF;
    --text-secondary: #FFFFFF;
    --text-placeholder: #FFFFFF;
    --text-title-bar: #FFFFFF;
    --text-button: #FFFFFF;
    --text-button-hover: #000000;
    --text-start-menu-disabled: #FFFFFF;
    --text-dropzone: #FFFFFF;
    --text-dropzone-dragover: #000000;
    --text-dropzone-label: #FFFFFF;
    --text-dropzone-label-hover: #FFFFFF;
    --text-knob: #FFFFFF;
    --text-sequencer-header: #FFFFFF;
    --text-sequencer-step: #FFFFFF;
    --text-theme-toggle-icon: #FFFFFF;

    --border-primary: #FFFFFF;
    --border-secondary: #FFFFFF;
    --border-window-title-bottom: #FFFFFF;
    --border-button: #FFFFFF;
    --border-button-hover: #FFFFFF;
    --border-button-active-outer: #FFFFFF;
    --border-button-active-inner: #FFFFFF;
    --border-start-menu: #FFFFFF;
    --border-start-menu-shadow: #FFFFFF #FFFFFF #FFFFFF #FFFFFF;
    --border-pad: #FFFFFF;
    --border-pad-active: #FFFFFF;
    --border-pad-selected: #FFFFFF;
    --border-dropzone: #FFFFFF;
    --border-dropzone-dragover: #FFFFFF;
    --border-knob: #FFFFFF;
    --border-input: #FFFFFF;
    --border-sequencer: #FFFFFF;
    --border-waveform: #FFFFFF;
    --border-meter-bar-container: #FFFFFF;
    --border-modal: #FFFFFF;
    --border-context-menu: #FFFFFF;
    --border-timeline-header: #FFFFFF;
    --border-timeline-track-lane: #FFFFFF;
    --border-timeline-track-name: #FFFFFF;
    --border-theme-toggle-button: #000000;

    --shadow-window: none;
    --shadow-start-menu: none;
    --shadow-button-inset-main: #000000;
    --shadow-button-inset-secondary: #000000;
    --shadow-pad-inset-main: #000000;
    --shadow-pad-inset-secondary: #000000;
    --shadow-knob: none;
    --shadow-modal: none;
    --shadow-context-menu: none;

    --accent-focus: #FFFFFF;
    --accent-muted-text: #000000;
    --accent-muted: #FFFFFF;
    --accent-soloed-text: #000000;
    --accent-soloed: #FFFFFF;
    --accent-armed-text: #000000;
    --accent-armed: #FFFFFF;
    --accent-active-text: #000000;
    --accent-active: #FFFFFF;
    --accent-sequencer-step-border: #000000;
    --accent-sequencer-step: #FFFFFF;
    --accent-sequencer-playing-outline: #FFFFFF;
    --accent-meter: #FFFFFF;
    --accent-meter-clip: #FFFFFF;
    --accent-playhead: #FFFFFF;
    --accent-clip-bg: #FFFFFF;
    --accent-clip-border: #000000;

    --scrollbar-track: #000000;
    --scrollbar-thumb: #FFFFFF;
    --scrollbar-thumb-hover: #FFFFFF;
    --scrollbar-thumb-border: #000000;
    --scrollbar-corner: #000000;

    --timeline-track-name-width: 120px;
}

.theme-light {
    /* Black & White Theme (Light Mode) */
    --bg-primary: #FFFFFF;
    --bg-window: #FFFFFF;
    --bg-window-content: #FFFFFF;
    --bg-title-bar: #FFFFFF;
    --bg-taskbar: #FFFFFF;
    --bg-start-menu: #FFFFFF;
    --bg-button: #FFFFFF;
    --bg-button-hover: #000000;
    --bg-button-active: #000000;
    --bg-input: #FFFFFF;
    --bg-dropzone: #FFFFFF;
    --bg-dropzone-dragover: #000000;
    --bg-sequencer-header: #FFFFFF;
    --bg-sequencer-label: #FFFFFF;
    --bg-sequencer-step-even: #FFFFFF;
    --bg-sequencer-step-odd: #FFFFFF;
    --bg-sequencer-step-hover: #000000;
    --bg-meter-track: #FFFFFF;
    --bg-meter-bar-container: #FFFFFF;
    --bg-modal-overlay: rgba(255,255,255,0.75);
    --bg-modal-dialog: #FFFFFF;
    --bg-context-menu: #FFFFFF;
    --bg-timeline-container: #FFFFFF;
    --bg-timeline-header: #FFFFFF;
    --bg-timeline-track-lane: #FFFFFF;
    --bg-timeline-track-lane-even: #FFFFFF;
    --bg-timeline-track-name: #FFFFFF;
    --bg-theme-toggle-button-hover: #000000;

    --text-primary: #000000;
    --text-secondary: #000000;
    --text-placeholder: #000000;
    --text-title-bar: #000000;
    --text-button: #000000;
    --text-button-hover: #FFFFFF;
    --text-start-menu-disabled: #000000;
    --text-dropzone: #000000;
    --text-dropzone-dragover: #FFFFFF;
    --text-dropzone-label: #000000;
    --text-dropzone-label-hover: #000000;
    --text-knob: #000000;
    --text-sequencer-header: #000000;
    --text-sequencer-step: #000000;
    --text-theme-toggle-icon: #000000;

    --border-primary: #000000;
    --border-secondary: #000000;
    --border-window-title-bottom: #000000;
    --border-button: #000000;
    --border-button-hover: #000000;
    --border-button-active-outer: #000000;
    --border-button-active-inner: #000000;
    --border-start-menu: #000000;
    --border-start-menu-shadow: #000000 #000000 #000000 #000000;
    --border-pad: #000000;
    --border-pad-active: #000000;
    --border-pad-selected: #000000;
    --border-dropzone: #000000;
    --border-dropzone-dragover: #000000;
    --border-knob: #000000;
    --border-input: #000000;
    --border-sequencer: #000000;
    --border-waveform: #000000;
    --border-meter-bar-container: #000000;
    --border-modal: #000000;
    --border-context-menu: #000000;
    --border-timeline-header: #000000;
    --border-timeline-track-lane: #000000;
    --border-timeline-track-name: #000000;
    --border-theme-toggle-button: #FFFFFF;

    --shadow-window: none;
    --shadow-start-menu: none;
    --shadow-button-inset-main: #FFFFFF;
    --shadow-button-inset-secondary: #FFFFFF;
    --shadow-pad-inset-main: #FFFFFF;
    --shadow-pad-inset-secondary: #FFFFFF;
    --shadow-knob: none;
    --shadow-modal: none;
    --shadow-context-menu: none;
    
    --accent-focus: #000000;
    --accent-muted-text: #FFFFFF;
    --accent-muted: #000000;
    --accent-soloed-text: #FFFFFF;
    --accent-soloed: #000000;
    --accent-armed-text: #FFFFFF;
    --accent-armed: #000000;
    --accent-active-text: #FFFFFF;
    --accent-active: #000000;
    --accent-sequencer-step-border: #FFFFFF;
    --accent-sequencer-step: #000000;
    --accent-sequencer-playing-outline: #000000;
    --accent-meter: #000000;
    --accent-meter-clip: #000000;
    --accent-playhead: #000000;
    --accent-clip-bg: #000000;
    --accent-clip-border: #FFFFFF;

    --scrollbar-track: #FFFFFF;
    --scrollbar-thumb: #000000;
    --scrollbar-thumb-hover: #000000;
    --scrollbar-thumb-border: #FFFFFF;
    --scrollbar-corner: #FFFFFF;
}

/* --- SnugOS General & Desktop Styling --- */
body {
    font-family: 'VT323', monospace;
    font-size: 16px;
    margin: 0;
    overflow: hidden;
    background-color: var(--bg-primary);
    color: var(--text-primary);
    padding-top: 40px;
}

#desktop {
    width: 100vw;
    height: calc(100vh - 40px - 32px);
    overflow: hidden;
    position: relative;
    background-color: var(--bg-primary);
}

/* --- Top Taskbar Styling --- */
#topTaskbar {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 40px;
    background-color: var(--bg-taskbar);
    border-bottom: 1px solid var(--border-secondary);
    z-index: 10001;
    display: flex;
    align-items: center;
    padding: 0 10px;
    box-sizing: border-box;
    color: var(--text-secondary);
    gap: 10px;
}

#topTaskbar > div {
    display: flex;
    align-items: center;
    gap: 6px;
}

#topTaskbar button {
    background-color: var(--bg-button);
    border: 1px solid var(--border-button);
    color: var(--text-button);
    padding: 5px 8px;
    font-size: 0.8rem;
    font-weight: 500;
    border-radius: 3px;
    cursor: pointer;
    transition: background-color 0.15s ease, border-color 0.15s ease, color 0.15s ease;
    display: flex;
    align-items: center;
    justify-content: center;
}
#topTaskbar button:hover {
    background-color: var(--bg-button-hover);
    border-color: var(--border-button-hover);
    color: var(--text-button-hover);
}
#topTaskbar button:active {
    background-color: var(--bg-button-active);
}

#topTaskbar button#recordBtnGlobalTop svg {
    fill: var(--text-button);
    stroke: var(--text-button);
}

#topTaskbar button#recordBtnGlobalTop:hover svg {
    fill: var(--text-button-hover);
    stroke: var(--text-button-hover);
}

#topTaskbar button#recordBtnGlobalTop.recording {
    background-color: #FF0000 !important;
    border-color: #FF0000 !important;
    color: var(--text-button-hover) !important;
}

#topTaskbar button#recordBtnGlobalTop.recording svg {
    fill: var(--text-button-hover) !important;
    stroke: var(--text-button-hover) !important;
    animation: blink 1s infinite;
}

@keyframes blink {
    50% { opacity: 0.5; }
}

#topTaskbar button#playbackModeToggleBtnGlobalTop.active {
    background-color: var(--accent-active) !important;
    color: var(--accent-active-text) !important;
    border-color: var(--accent-active-border-dark) !important;
}

#topTaskbar input[type="number"],
#topTaskbar select {
    background-color: var(--bg-input);
    color: var(--text-primary);
    border: 1px solid var(--border-input);
    padding: 5px 6px;
    border-radius: 3px;
}
#topTaskbar input[type="number"] {
    width: 65px;
}
#topTaskbar select {
    min-width: 120px;
    max-width: 200px;
}

#topTaskbar label {
    margin-right: 4px;
    color: var(--text-secondary);
}

.master-meter-top {
    width: 120px;
    height: 12px;
    background-color: var(--bg-meter-bar-container);
    border: 1px solid var(--border-secondary);
    border-radius: 2px;
    overflow: hidden;
}
.master-meter-top > div {
    height: 100%;
    background-color: var(--accent-meter);
    transition: width 0.05s linear;
}
.master-meter-top > div.clipping {
    background-color: var(--accent-meter-clip);
}

#activityIndicatorsTop span {
    font-size: 0.9rem;
    padding: 3px 6px;
    border-radius: 3px;
    background-color: var(--bg-button);
    color: var(--text-secondary);
    margin-left: 5px;
    transition: background-color 0.15s ease, color 0.15s ease;
}
#activityIndicatorsTop span.active {
    background-color: var(--accent-active);
    color: var(--accent-active-text);
}

#themeToggleContainerTopRight {
    display: flex;
    align-items: center;
    margin-left: 10px;
}

#themeToggleBtn {
    background-color: transparent;
    border: 1px solid transparent;
    padding: 0;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 3px;
    /* --- Start of Corrected Code --- */
    width: 32px; /* Increased from 28px */
    height: 32px; /* Increased from 28px */
    /* --- End of Corrected Code --- */
    color: var(--text-theme-toggle-icon);
    line-height: 0;
}

#themeToggleBtn:hover {
    background-color: var(--bg-theme-toggle-button-hover);
    color: var(--text-button-hover);
    border-color: var(--border-theme-toggle-button);
}

#themeToggleBtn svg {
    stroke: currentColor;
    /* --- Start of Corrected Code --- */
    width: 85%; /* Increased from 80% */
    height: 85%; /* Increased from 80% */
    /* --- End of Corrected Code --- */
}

#themeToggleBtn #themeIconMoon { display: none; }
#themeToggleBtn #themeIconSun { display: inline-block; }
body.theme-light #themeToggleBtn #themeIconSun { display: none; }
body.theme-light #themeToggleBtn #themeIconMoon { display: inline-block; }
body.theme-dark #themeToggleBtn #themeIconMoon { display: none; }
body.theme-dark #themeToggleBtn #themeIconSun { display: inline-block; }

/* ... (rest of CSS is unchanged) ... */
