/* --- Drop Zone Styles --- */
.drop-zone {
    padding: 15px;
    border: 2px dashed #a0aec0; /* Tailwind gray-500 equivalent */
    border-radius: 0.375rem; /* Tailwind rounded-md equivalent */
    background-color: #f7fafc; /* Tailwind gray-100 equivalent */
    color: #4a5568; /* Tailwind gray-700 equivalent */
    text-align: center;
    font-size: 0.875rem; /* Tailwind text-sm equivalent */
    line-height: 1.25rem; /* Tailwind leading-tight equivalent */
    transition: background-color 0.2s ease-in-out, border-color 0.2s ease-in-out;
    cursor: default;
    margin-bottom: 0.5rem; /* Tailwind mb-2 equivalent */
    box-sizing: border-box; /* Ensures padding and border don't add to width/height */
}

/* Style for the "Click to Upload" text within the drop zone */
.drop-zone label {
    color: #4299e1; /* Tailwind blue-500 equivalent */
    text-decoration: underline;
    cursor: pointer;
    font-weight: 500; /* Tailwind font-medium */
}

.drop-zone label:hover {
    color: #2b6cb0; /* Tailwind blue-700 equivalent */
}

/* This class is added by JavaScript when a file is dragged over the drop zone */
.drop-zone.dragover {
    background-color: #ebf8ff; /* Tailwind blue-100 equivalent */
    border-color: #4299e1; /* Tailwind blue-500 equivalent */
    color: #2c5282; /* Tailwind blue-800 for text, or a darker gray */
}

/* Specific styling for drop zones within the track inspector if needed */
.track-inspector-content .drop-zone {
    padding: 12px; /* Slightly adjusted padding */
    margin-top: 0.5rem; /* Add some space above if it's not the first element */
}

/* Specific styling for the smaller drop zones used for individual drum pads */
.drum-sampler-panel .drop-zone {
    padding: 8px;
    font-size: 0.75rem; /* Tailwind text-xs equivalent */
    line-height: 1rem; /* Tailwind leading-tight equivalent */
}

.drum-sampler-panel .drop-zone label {
    display: block; /* Make label take full width for easier clicking in smaller zones */
    margin-top: 0.25rem; /* Tailwind mt-1 equivalent */
}

/* Ensure hidden file inputs don't take up space or become visible */
.hidden {
    display: none !important; /* Use !important to ensure it's always hidden */
}

/* --- General SnugOS Styles (Example - Add your existing styles here) --- */
body {
    font-family: 'Inter', sans-serif;
    margin: 0;
    background-color: #e2e8f0; /* Tailwind gray-300 equivalent for a light desktop background */
    color: #2d3748; /* Tailwind gray-800 equivalent for default text */
    overflow: hidden; /* Prevent body scrollbars, desktop will handle overflow */
    display: flex;
    flex-direction: column;
    height: 100vh;
    user-select: none; /* Prevent text selection on desktop elements */
}

#desktop {
    flex-grow: 1;
    position: relative;
    overflow: auto; /* Or hidden, depending on desired behavior for too many windows */
    background-color: #FFB6C1; /* Default desktop background color from constants.js */
    /* Background image styles will be applied by JavaScript */
}

#taskbar {
    height: 28px; /* Or your desired height */
    background-color: #c0c0c0; /* Default taskbar background from constants.js */
    border-top: 1px solid #a0aec0; /* Tailwind gray-500 */
    display: flex;
    align-items: center;
    padding: 0 5px;
    box-sizing: border-box;
    flex-shrink: 0; /* Prevent taskbar from shrinking */
}

#startButton {
    background-color: #4a5568; /* Tailwind gray-700 */
    color: white;
    border: 1px outset #718096; /* Tailwind gray-600 */
    padding: 2px 10px;
    font-size: 0.875rem;
    cursor: pointer;
    border-radius: 0.25rem; /* Tailwind rounded-sm */
}
#startButton:active {
    border-style: inset;
}


#startMenu {
    position: absolute;
    bottom: 28px; /* Height of taskbar */
    left: 0;
    background-color: #edf2f7; /* Tailwind gray-200 */
    border: 1px solid #a0aec0; /* Tailwind gray-500 */
    box-shadow: 2px -2px 5px rgba(0,0,0,0.1);
    z-index: 10000; /* Ensure it's above windows */
    width: 200px;
    border-radius: 0.25rem 0.25rem 0 0;
}

#startMenu ul {
    list-style: none;
    padding: 5px 0;
    margin: 0;
}

#startMenu li {
    padding: 8px 15px;
    cursor: pointer;
    font-size: 0.875rem;
    color: #2d3748; /* Tailwind gray-800 */
}

#startMenu li:hover {
    background-color: #4299e1; /* Tailwind blue-500 */
    color: white;
}
#startMenu li.disabled {
    color: #a0aec0; /* Tailwind gray-500 */
    cursor: not-allowed;
}
#startMenu li.disabled:hover {
    background-color: transparent; /* No hover effect for disabled items */
    color: #a0aec0;
}


#startMenu hr {
    border: none;
    border-top: 1px solid #cbd5e0; /* Tailwind gray-400 */
    margin: 4px 0;
}


#taskbarButtons {
    display: flex;
    flex-grow: 1;
    margin-left: 10px;
    overflow-x: auto; /* Allow scrolling if too many buttons */
}

.taskbar-button {
    background-color: #e2e8f0; /* Tailwind gray-300 */
    border: 1px outset #cbd5e0; /* Tailwind gray-400 */
    padding: 2px 8px;
    font-size: 0.75rem; /* Tailwind text-xs */
    margin-right: 3px;
    cursor: pointer;
    white-space: nowrap;
    max-width: 150px;
    overflow: hidden;
    text-overflow: ellipsis;
    border-radius: 0.25rem;
}
.taskbar-button:active, .taskbar-button.active {
    border-style: inset;
    background-color: #cbd5e0; /* Tailwind gray-400 */
}
.taskbar-button.minimized-on-taskbar {
    background-color: #a0aec0; /* Tailwind gray-500 */
    color: #f7fafc; /* Tailwind gray-100 */
}


#taskbarTempoDisplay {
    font-size: 0.75rem;
    padding: 2px 8px;
    margin-left: auto; /* Pushes it to the right */
    color: #2d3748;
    cursor: pointer;
    border: 1px solid transparent;
    border-radius: 0.25rem;
}
#taskbarTempoDisplay:hover {
    background-color: #e2e8f0;
    border-color: #cbd5e0;
}


/* --- Window Styles --- */
.window {
    position: absolute;
    background-color: #c0c0c0; /* Default window background */
    border: 1px solid #4a5568; /* Darker border */
    box-shadow: 3px 3px 8px rgba(0,0,0,0.2);
    display: flex;
    flex-direction: column;
    min-width: 150px;
    min-height: 100px;
    resize: both; /* Allows user resizing - might be overridden by JS logic */
    overflow: hidden; /* Content overflow handled by .window-content */
    border-radius: 0.375rem; /* Rounded corners for windows */
}

.window.minimized {
    display: none; /* Hidden when minimized, taskbar button remains */
}

.window-title-bar {
    background-color: #4a5568; /* Tailwind gray-700 */
    color: white;
    padding: 5px 8px;
    cursor: grab;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 0.875rem;
    border-bottom: 1px solid #2d3748; /* Tailwind gray-800 */
    border-radius: 0.375rem 0.375rem 0 0; /* Rounded top corners */
    user-select: none;
}

.window-title-bar span {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.window-title-buttons button {
    background: none;
    border: none;
    color: white;
    font-weight: bold;
    margin-left: 5px;
    cursor: pointer;
    padding: 1px 5px;
    font-size: 0.75rem;
    line-height: 1;
}
.window-title-buttons button:hover {
    background-color: #718096; /* Tailwind gray-600 */
    border-radius: 0.25rem;
}

.window-content {
    flex-grow: 1;
    padding: 0; /* Padding will be handled by content within */
    overflow: auto; /* Enable scrollbars for content */
    background-color: #c0c0c0; /* Default window content background */
    border-radius: 0 0 0.375rem 0.375rem; /* Rounded bottom corners */
}

/* --- Notification Area --- */
#notification-area {
    position: fixed;
    bottom: 35px; /* Above taskbar */
    right: 10px;
    z-index: 20000; /* Very high z-index */
    display: flex;
    flex-direction: column;
    align-items: flex-end;
}

.notification-message {
    background-color: rgba(0, 0, 0, 0.75);
    color: white;
    padding: 10px 15px;
    margin-top: 5px;
    border-radius: 0.25rem;
    font-size: 0.875rem;
    opacity: 0;
    transform: translateX(100%);
    transition: opacity 0.3s ease, transform 0.3s ease;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
}

.notification-message.show {
    opacity: 1;
    transform: translateX(0);
}

/* --- Modal Styles --- */
#modalContainer {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    z-index: 15000; /* Below notifications, above windows */
    pointer-events: none; /* Allows clicks to pass through unless a modal is active */
}
.modal-overlay {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background-color: rgba(0,0,0,0.5);
    display: flex;
    justify-content: center;
    align-items: center;
    pointer-events: auto; /* Capture clicks when modal is active */
}
.modal-dialog {
    background-color: #edf2f7; /* Tailwind gray-200 */
    border: 1px solid #a0aec0; /* Tailwind gray-500 */
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    border-radius: 0.375rem;
    min-width: 300px;
    max-width: 90%;
}
.modal-title-bar {
    background-color: #4a5568; /* Tailwind gray-700 */
    color: white;
    padding: 8px 12px;
    font-size: 1rem;
    font-weight: 600; /* Tailwind semibold */
    border-bottom: 1px solid #2d3748; /* Tailwind gray-800 */
    border-radius: 0.375rem 0.375rem 0 0;
}
.modal-content {
    padding: 15px;
    font-size: 0.875rem;
    line-height: 1.5;
    max-height: 70vh;
    overflow-y: auto;
}
.modal-buttons {
    padding: 10px 15px;
    text-align: right;
    border-top: 1px solid #cbd5e0; /* Tailwind gray-400 */
}
.modal-buttons button {
    background-color: #4299e1; /* Tailwind blue-500 */
    color: white;
    border: none;
    padding: 8px 15px;
    font-size: 0.875rem;
    border-radius: 0.25rem;
    cursor: pointer;
    margin-left: 10px;
}
.modal-buttons button:hover {
    background-color: #2b6cb0; /* Tailwind blue-700 */
}
.modal-buttons button:first-child {
    background-color: #a0aec0; /* Tailwind gray-500 for cancel/secondary */
}
.modal-buttons button:first-child:hover {
    background-color: #718096; /* Tailwind gray-600 */
}


/* --- Inspector & Control Panel Styles --- */
.track-inspector-content, .effects-rack-window, .global-controls-window {
    font-size: 0.875rem;
}
.panel {
    background-color: #e2e8f0; /* Tailwind gray-300 */
    padding: 8px;
    border-radius: 0.25rem;
    margin-bottom: 8px;
    border: 1px solid #cbd5e0; /* Tailwind gray-400 */
}
.panel h4 {
    margin-top: 0;
    margin-bottom: 6px;
    color: #2d3748; /* Tailwind gray-800 */
}

.control-group {
    display: flex;
    flex-wrap: wrap; /* Allow wrapping for smaller screens/more knobs */
    gap: 10px; /* Space between knobs/controls in a group */
    align-items: flex-start; /* Align items to the top if they have different heights */
    justify-content: space-around; /* Distribute space for better layout */
}
.single-control-container {
    margin-bottom: 8px;
}


/* --- Knob Styles --- */
.knob-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 60px; /* Adjust as needed */
    margin-bottom: 5px;
}
.knob-label {
    font-size: 0.65rem; /* Tailwind text-xs */
    color: #4a5568; /* Tailwind gray-700 */
    margin-bottom: 2px;
    text-align: center;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    width: 100%;
}
.knob {
    width: 40px;
    height: 40px;
    background-color: #718096; /* Tailwind gray-600 */
    border-radius: 50%;
    position: relative;
    cursor: ns-resize;
    border: 2px solid #4a5568; /* Tailwind gray-700 */
    box-shadow: inset 0 0 5px rgba(0,0,0,0.2);
}
.knob-handle {
    width: 4px;
    height: 12px;
    background-color: #edf2f7; /* Tailwind gray-200 */
    position: absolute;
    top: 3px; /* Adjust to center handle */
    left: 50%;
    transform: translateX(-50%);
    transform-origin: bottom center;
    border-radius: 2px;
}
.knob-value {
    font-size: 0.65rem; /* Tailwind text-xs */
    color: #2d3748; /* Tailwind gray-800 */
    margin-top: 2px;
    min-height: 1em; /* Prevent layout shift if value is empty */
}

/* --- Meter Styles --- */
.meter-bar-container {
    background-color: #cbd5e0; /* Tailwind gray-400 */
    border-radius: 0.25rem;
    overflow: hidden;
    height: 10px; /* Default height */
    border: 1px solid #a0aec0; /* Tailwind gray-500 */
}
.meter-bar {
    background-color: #68d391; /* Tailwind green-400 */
    height: 100%;
    width: 0%; /* Initial width */
    transition: width 0.05s linear; /* Smooth transition for meter */
}
.meter-bar.clipping {
    background-color: #fc8181; /* Tailwind red-400 for clipping */
}
.track-meter-container { /* Specific for inspector */
    height: 12px;
}
.mixer-meter-container { /* Specific for mixer */
    height: 8px;
}


/* --- Sequencer Styles --- */
.sequencer-window-content {
    display: flex;
    flex-direction: column;
    height: 100%; /* Fill window content area */
}
.sequencer-grid-container {
    flex-grow: 1;
    overflow: auto; /* Enable scrolling for the grid */
    background-color: #cbd5e0; /* Tailwind gray-400 */
    border: 1px solid #a0aec0; /* Tailwind gray-500 */
    border-radius: 0.25rem;
}
.sequencer-grid {
    display: grid;
    gap: 1px;
    background-color: #a0aec0; /* Grid line color (from gap) */
    padding: 1px; /* To make outer grid lines visible */
    min-width: fit-content; /* Allow grid to expand as needed */
}
.sequencer-label-cell, .sequencer-step-cell, .sequencer-bar-header-cell, .sequencer-bar-header-placeholder {
    background-color: #edf2f7; /* Tailwind gray-200 - default cell bg */
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 0.7rem; /* Tiny text for labels */
    min-height: 20px; /* Minimum height for cells */
    user-select: none;
}
.sequencer-label-cell {
    font-weight: 500; /* Tailwind font-medium */
    position: sticky;
    left: 0;
    z-index: 2; /* Above step cells */
    border-right: 1px solid #a0aec0;
    padding: 0 5px;
    white-space: nowrap;
}
.sequencer-bar-header-placeholder {
    position: sticky;
    top: 0;
    left: 0;
    z-index: 3; /* Above labels and steps */
}
.sequencer-bar-header-cell {
    font-weight: 500;
    grid-column: span var(--steps-per-bar, 16); /* Span across steps in a bar */
    position: sticky;
    top: 0;
    z-index: 1; /* Below placeholder but above steps */
    border-bottom: 1px solid #a0aec0;
}

.sequencer-step-cell {
    cursor: pointer;
    border-radius: 2px;
    min-width: 20px; /* Minimum width for cells */
    transition: background-color 0.1s ease;
}
.sequencer-step-cell:hover {
    background-color: #bee3f8; /* Tailwind blue-200 */
}
.sequencer-step-cell.beat-downbeat { /* e.g., 1, 5, 9, 13 in a 16-step bar */
    background-color: #e2e8f0; /* Slightly darker than other steps - Tailwind gray-300 */
}
.sequencer-step-cell.beat-other {
    background-color: #f7fafc; /* Lighter for other steps - Tailwind gray-100 */
}

.sequencer-step-cell.active-synth { background-color: #63b3ed; color: white; } /* Tailwind blue-400 */
.sequencer-step-cell.active-sampler { background-color: #48bb78; color: white; } /* Tailwind green-500 */
.sequencer-step-cell.active-drum-sampler { background-color: #ed8936; color: white; } /* Tailwind orange-500 */
.sequencer-step-cell.active-instrument-sampler { background-color: #a0aec0; color: white; } /* Tailwind purple-500 */

.sequencer-step-cell.playing {
    outline: 2px solid #f56565; /* Tailwind red-500 */
    outline-offset: -2px;
    z-index: 1; /* Ensure playing highlight is visible */
}


/* --- Sound Browser Styles --- */
.sound-browser-content {
    display: flex;
    flex-direction: column;
    height: 100%;
    font-size: 0.875rem;
}
#soundBrowserLibrarySelect {
    flex-shrink: 0; /* Prevent select from shrinking */
    margin-bottom: 0.5rem;
}
#soundBrowserPathDisplay {
    flex-shrink: 0;
    padding: 0.25rem 0.5rem;
    background-color: #e2e8f0; /* Tailwind gray-300 */
    border-bottom: 1px solid #cbd5e0; /* Tailwind gray-400 */
    font-size: 0.75rem;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}
.sound-browser-list {
    flex-grow: 1;
    overflow-y: auto;
    border: 1px solid #cbd5e0; /* Tailwind gray-400 */
    border-radius: 0.25rem;
    background-color: #fff;
}
.sound-browser-item {
    padding: 0.3rem 0.6rem;
    cursor: pointer;
    border-bottom: 1px solid #edf2f7; /* Tailwind gray-200 */
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}
.sound-browser-item:last-child {
    border-bottom: none;
}
.sound-browser-item:hover {
    background-color: #ebf8ff; /* Tailwind blue-100 */
}
.sound-browser-loading {
    padding: 1rem;
    text-align: center;
    color: #718096; /* Tailwind gray-600 */
}


/* --- Sampler/Drum Sampler Pad Styles --- */
.pads-container {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(70px, 1fr)); /* Responsive grid for pads */
    gap: 5px;
    margin-top: 0.5rem;
}
.pad-button {
    background-color: #a0aec0; /* Tailwind gray-500 */
    color: white;
    border: 1px outset #718096; /* Tailwind gray-600 */
    padding: 8px 5px; /* Adjusted padding */
    font-size: 0.7rem; /* Smaller font for pad labels */
    border-radius: 0.25rem;
    cursor: pointer;
    display: flex;
    flex-direction: column; /* Stack text and label */
    align-items: center;
    justify-content: center;
    min-height: 50px; /* Ensure a minimum clickable area */
    line-height: 1.2;
    word-break: break-word; /* Allow long file names to wrap if needed */
}
.pad-button:hover {
    background-color: #718096; /* Tailwind gray-600 */
}
.pad-button:active, .pad-button.selected-for-edit {
    border-style: inset;
    background-color: #4a5568; /* Tailwind gray-700 */
    box-shadow: inset 0 1px 3px rgba(0,0,0,0.2);
}
.pad-label {
    font-size: 0.6rem; /* Even smaller for the file name hint */
    margin-top: 2px;
    max-width: 100%; /* Ensure it doesn't overflow the button */
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}


/* --- Waveform Canvas --- */
.waveform-canvas {
    background-color: #edf2f7; /* Tailwind gray-200 */
    border-radius: 0.25rem;
    border: 1px solid #cbd5e0; /* Tailwind gray-400 */
    width: 100%; /* Ensure it takes full width of its container */
    height: 70px; /* Default height, can be overridden */
}


/* --- Utility classes --- */
.hidden {
    display: none !important;
}

/* Add any other global styles or utility classes your application needs */

/* Example button styles for inspector/effects rack if not using Tailwind directly in HTML */
.button-primary {
    background-color: #4299e1; /* Tailwind blue-500 */
    color: white;
    padding: 0.25rem 0.75rem;
    border-radius: 0.25rem;
    border: none;
    cursor: pointer;
    font-size: 0.875rem;
}
.button-primary:hover {
    background-color: #2b6cb0; /* Tailwind blue-700 */
}

.button-secondary {
    background-color: #e2e8f0; /* Tailwind gray-300 */
    color: #2d3748; /* Tailwind gray-800 */
    padding: 0.25rem 0.75rem;
    border-radius: 0.25rem;
    border: 1px solid #cbd5e0; /* Tailwind gray-400 */
    cursor: pointer;
    font-size: 0.875rem;
}
.button-secondary:hover {
    background-color: #cbd5e0; /* Tailwind gray-400 */
}

.slice-toggle-button {
    background-color: #e2e8f0; /* Tailwind gray-300 */
    border: 1px solid #cbd5e0; /* Tailwind gray-400 */
    padding: 0.25rem 0.5rem;
    font-size: 0.75rem;
    border-radius: 0.25rem;
}
.slice-toggle-button.active {
    background-color: #4a5568; /* Tailwind gray-700 */
    color: white;
    border-color: #2d3748; /* Tailwind gray-800 */
}

/* Mixer specific styles */
.mixer-window-content {
    display: flex;
    overflow-x: auto; /* Allow horizontal scrolling for many tracks */
    padding: 10px;
    gap: 10px; /* Space between channel strips */
    height: 100%;
    box-sizing: border-box;
}

.channel-strip {
    display: flex;
    flex-direction: column;
    align-items: center;
    background-color: #edf2f7; /* Tailwind gray-200 */
    border: 1px solid #cbd5e0; /* Tailwind gray-400 */
    border-radius: 0.25rem;
    padding: 8px;
    min-width: 80px; /* Minimum width for a strip */
    box-sizing: border-box;
}
.channel-strip .track-name {
    font-size: 0.75rem;
    font-weight: 600; /* semibold */
    margin-bottom: 5px;
    cursor: pointer;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 100%;
}
.channel-strip .track-name:hover {
    color: #4299e1; /* blue-500 */
}

.channel-strip .fader-container {
    flex-grow: 1; /* Allow fader (knob) to take up space */
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%; /* Ensure knob container uses available width */
    margin-bottom: 5px;
}
/* Adjust knob size within mixer if needed */
.channel-strip .knob-container {
    width: 50px; /* Smaller knobs for mixer */
}
.channel-strip .knob {
    width: 30px;
    height: 30px;
}
.channel-strip .knob-handle {
    height: 10px;
}

.channel-strip .mixer-buttons {
    display: flex;
    gap: 4px; /* Smaller gap for mixer buttons */
    width: 100%;
    justify-content: center;
    margin-bottom: 5px;
}
.channel-strip .mixer-buttons button {
    padding: 1px 4px; /* Smaller padding */
    font-size: 0.65rem; /* Smaller font */
}

.channel-strip .mixer-meter-container {
    width: 100%;
    height: 6px; /* Slimmer meter for mixer */
    margin-top: auto; /* Push to bottom if strip has extra space */
}
```
